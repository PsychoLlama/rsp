# rsp - A Lisp-like Interpreter in Rust

`rsp` is a Lisp-like interpreter built in Rust. Its development served as an experiment with [Aider](https://aider.chat/) to explore the capabilities of Google's Gemini 2.5 model in the context of programming language creation. Notably, the entirety of this project's code was generated by the AI; no lines were written manually.

This project demonstrates an exploration of AI tools for software development and is presented as a proof of concept.

## Features

- Arithmetic: `+`, `*`, `=`
- Variables: `(let x 10)`
- Functions: `(fn (a b) (+ a b))` with lexical closures
- Conditionals: `(if condition then-expr else-expr)`
- Quoting: `(quote foo)` or `'foo`
- Literals: Numbers, Strings (`"hello"`), Booleans (`true`, `false`), `nil`
- Modules:
  - Load files: `(require "path/to/file")`
  - Built-in `math` module: `(math/+ 1 2)`
  - Built-in `log` module: `(log/info "Msg: %s" val)`, `(log/error "Err: %s" val)`
    - Supports `%s` interpolation.
    - `log/info` and `log/error` return the formatted string.

## Building

```bash
cargo build
```

## Usage

Run expressions directly:

```bash
cargo run -- run --expr "(math/+ 10 (math/* 2 3))"
```

Output:

```
Number(16.0)
```

Run a Lisp file:

```bash
cargo run -- run examples/my_program.lisp
```

Output (path will vary):

```
Module(LispModule { path: "examples/my_program.lisp", env: "<module_env>" })
```

Load a module:

```bash
cargo run -- run --expr "(require \"examples/my_lib\")"
```

Log messages:

```bash
cargo run -- run --expr "(log/info \"Value: %s\" (+ 10 5))"
```

Stdout: `Value: 15`
Returns: `String("Value: 15")`
